(function(e){function t(t){for(var s,c,o=t[0],u=t[1],i=t[2],p=0,b=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(s=!1)}s&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},r={app:0},a=[];function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/STOMPchat-frontend/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},2852:function(e,t,n){},"39f4":function(e,t,n){"use strict";n("8e13")},"64fc":function(e,t,n){"use strict";n("8d2f")},"8d2f":function(e,t,n){},"8e13":function(e,t,n){},b475:function(e,t,n){"use strict";n("2852")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23");function r(e,t){var n=Object(s["v"])("router-view");return Object(s["q"])(),Object(s["d"])(n)}n("b475");const a={};a.render=r;var c=a,o=n("6c02"),u=Object(s["f"])("h1",null,"Chat page",-1),i={class:"chat"};function l(e,t,n,r,a,c){var o=Object(s["v"])("message-list"),l=Object(s["v"])("message-inputs");return Object(s["q"])(),Object(s["e"])(s["a"],null,[u,Object(s["f"])("div",i,[Object(s["g"])(o,{messages:e.messages,currentUser:e.username},null,8,["messages","currentUser"]),Object(s["g"])(l,{onSendMessage:e.sendMessage,newID:e.nextMessageID},null,8,["onSendMessage","newID"])])],64)}n("b0c0");var p={class:"inputs"},b=["disabled"];function f(e,t,n,r,a,c){return Object(s["q"])(),Object(s["e"])("div",p,[Object(s["B"])(Object(s["f"])("input",{type:"text",name:"",id:"",class:"message-input",placeholder:"Enter message","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.enteredMessage=t})},null,512),[[s["z"],e.enteredMessage]]),Object(s["f"])("button",{class:"message-send",onClick:t[1]||(t[1]=function(t){return e.emitMessageSend()}),disabled:e.newID<0}," Send ",8,b)])}n("a9e3");var d=Object(s["h"])({name:"MessageInputs",emits:["sendMessage"],data:function(){return{enteredMessage:""}},props:{newID:{type:Number,required:!0}},methods:{emitMessageSend:function(){if(this.enteredMessage&&this.enteredMessage.replaceAll(" ","")){var e={id:this.newID,message:this.enteredMessage,nextID:1};return this.$emit("sendMessage",e),void(this.enteredMessage="")}alert("Enter your message.")}}});d.render=f;var m=d,g={class:"messages"},h={class:"messages__username"},O={class:"messages__message"};function j(e,t,n,r,a,c){return Object(s["q"])(),Object(s["e"])("ul",g,[(Object(s["q"])(!0),Object(s["e"])(s["a"],null,Object(s["u"])(e.messages,(function(t){return Object(s["q"])(),Object(s["e"])("li",{key:t.id,class:Object(s["m"])("messages__container "+(e.currentUser===t.name?"messages__container--sent":""))},[Object(s["f"])("p",h,Object(s["x"])(t.name),1),Object(s["f"])("p",O,Object(s["x"])(t.message),1)],2)})),128))])}var v=Object(s["h"])({name:"MessagesList",props:{messages:Object,currentUser:String}});n("39f4");v.render=j;var y=v,M=n("cc7d"),S=n.n(M),w=n("453e"),x=n("4144"),_=Object(s["h"])({components:{MessageInputs:m,MessageList:y},name:"ChatPage",data:function(){var e=this;return{messages:[],nextMessageID:-1,sockJS:S.a.prototype,stompClient:w["a"].prototype,stompSubscriptions:[x["a"].prototype],username:Object(s["b"])((function(){return e.$route.query.username}))}},created:function(){var e=this,t=new S.a("https://stomp-chat.herokuapp.com/messaging"),n=new w["a"];n.webSocketFactory=function(){return t},n.onConnect=function(){e.stompSubscriptions.push(n.subscribe("/chat/setup",(function(t){var n=JSON.parse(t.body);e.nextMessageID=n.nextID}))),e.stompSubscriptions.push(n.subscribe("/chat/receive",(function(t){var n=JSON.parse(t.body);e.messages.push(n),e.nextMessageID=n.nextID}))),e.sockJS=t,e.stompClient=n},n.activate()},methods:{sendMessage:function(e){e.name=this.username,console.log(e),this.stompClient.publish({destination:"/send",body:JSON.stringify(e)})}}});n("64fc");_.render=l;var I=_,C=Object(s["f"])("h1",null,"Login page",-1),D={class:"login"};function q(e,t,n,r,a,c){return Object(s["q"])(),Object(s["e"])(s["a"],null,[C,Object(s["f"])("div",D,[Object(s["B"])(Object(s["f"])("input",{type:"text",name:"",id:"",placeholder:"Enter your name","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.username=t})},null,512),[[s["z"],e.username]]),Object(s["f"])("button",{class:"login__btn",onClick:t[1]||(t[1]=function(t){return e.goToChat()})},"Login")])],64)}var k=Object(s["h"])({name:"LoginPage",data:function(){return{username:""}},methods:{goToChat:function(){this.username&&this.username.replaceAll(" ","")?this.$router.push({name:"Chat",query:{username:this.username}}):alert("Enter username")}}});k.render=q;var P=k,J=[{path:"/",name:"Home",component:P},{path:"/chat",name:"Chat",component:I,beforeEnter:function(e,t,n){e.query.username?n():n({name:"Home"})}}],U=Object(o["a"])({history:Object(o["b"])(),routes:J}),E=U;Object(s["c"])(c).use(E).mount("#app")}});
//# sourceMappingURL=app.ff40ae8e.js.map